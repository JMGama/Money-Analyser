<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Hello World</title>

  <!-- Bootstrap -->
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <script src="{{ url_for('static', filename='js/lib/jquery.i18n/jquery.i18n.js') }}"></script>
  <script src="{{ url_for('static', filename='js/lib/jquery.i18n/jquery.i18n.messagestore.js') }}"></script>
  <script src="{{ url_for('static', filename='js/lib/jquery.i18n/jquery.i18n.fallbacks.js') }}"></script>
  <script src="{{ url_for('static', filename='js/lib/jquery.i18n/jquery.i18n.language.js') }}"></script>
  <script src="{{ url_for('static', filename='js/lib/jquery.i18n/jquery.i18n.parser.js') }}"></script>
  <script src="{{ url_for('static', filename='js/lib/jquery.i18n/jquery.i18n.emitter.js') }}"></script>
  <script src="{{ url_for('static', filename='js/lib/jquery.i18n/jquery.i18n.emitter.bidi.js') }}"></script>

  <!-- Include Webcam library to capture user webcam-->
  <script src="{{ url_for('static', filename='js/lib/webcam.js') }}"></script>
</head>

<body>
  <div class="container text-center" id="container">
    <h1>Money Analy$er</h1>
    <div class="row">
      <div id="container-cam">
      </div>
    </div>
    <div class="row">
      <br>
      <a class="btn btn-primary" href="javascript:void(take_snapshot())">Capturar</a>
    </div>
    <div id="my_result">
    </div>
  </div>
  <footer class="footer">
    <div class="container">
      <span>
        <a href="https://www.ibm.com/watson/" target="_blank">
          Powered by
          <img src="https://cogx.co/wp-content/uploads/2017/12/ibmwatsonlogo.png" height="40" width="110"/>
        </a>
      </span>
    </div>
  </footer>

</body>

<script type="text/javascript">
  // Starts and takes capture of the user camera
  Webcam.attach('#container-cam');

  function take_snapshot() {
    Webcam.snap(function(data_uri) {
      Webcam.upload(data_uri, "{{ url_for('analyse_image') }}", function(code, text) {
        // Upload complete!
        // 'code' will be the HTTP response code from the server, e.g. 200
        // 'text' will be the raw response content
      });
    });
  }
</script>

</html>
